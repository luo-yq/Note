groupadd esgroup
useradd es -g esgroup -p es


su es
mkdir /opt
cd /opt

curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.1.1.tar.gz
tar -xvf elasticsearch-6.1.1.tar.gz
mv elasticsearch-6.1.1 elasticsearch
cd elasticsearch/bin

vi /opt/elasticsearch/config/elasticsearch.yml

#修改network.host: ip

export ES_HOME=/opt/elasticsearch



./elasticsearch

./elasticsearch -d p ${ES_HOME}/pid  
kill `cat ${ES_HOME}/pid`

systemctl restart elasticsearch


brew install elasticsearch




./bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.0.0/elasticsearch-analysis-ik-6.1.1.zip


wget https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.1.1/elasticsearch-analysis-ik-6.1.1.zip
unzip elasticsearch-analysis-ik-6.1.1.zip




export JAVA_HOME=/opt/jdk1.8
export PATH=$PATH:$JAVA_HOME/bin
export CLASSPATH=.:$CLASSPATH:$JAVA_HOME/lib



http.cors.enabled: true
http.cors.allow-origin: "*"
http.cors.allow-headers: Authorization


sudo /opt/elasticsearch/bin/plugin install mobz/elasticsearch-head  



cd /opt
wget https://codeload.github.com/mobz/elasticsearch-head/zip/master
unzip master.zip  
rm -rf master.zip
mv -r elasticsearch-head-master $ES_HOME/plugins/head

http://192.168.253.13:9200/_plugin/head  







sysctl -w vm.max_map_count=262144


echo "vm.max_map_count=262144" > /etc/sysctl.conf
sysctl -p


 

cp build/distributions/elasticsearch-jieba-plugin-5.1.2.zip ${path.home}/plugins








