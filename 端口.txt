 电脑端口知识
端口便是计算机与外部通信的途径，没有它，计算机便又聋又哑。一个端口就是一个潜在的通信通道，也就是一个入侵通道。
先说服务，我们首先要明白“连接”和“无连接”的概念。最简单的例子莫过于打电话和写信。两个人如果要通电话，得首先建立连接——即拨号，等待应答后才能相互传递信息，最后还要释放连接——即挂电话。写信就没有那么复杂了，地址姓名填好以后直接往邮筒一扔，收信人就能收到。 
因特网上最流行的协议是TCP/IP协议，需要说明的是，TCP/IP协议在网络层是无连接的（数据包只管往网上发，如何传输和到达以及是否到达由网络设备来管理）。而我们一旦谈“端口”，就已经到了传输层。协议里面低于1024的端口都有确切的定义，它们对应着因特网上常见的一些服务。这些常见的服务可以划分为使用TCP端口（面向连接如打电话）和使用UDP端口（无连接如写信）两种。  
使用TCP端口常见的有：
ftp：定义了文件传输协议,使用21端口。常说某某主机开了 ftp服务便是文件传输服务。下载文件，上传主页，都要用到ftp服务。 
telnet：你上BBS吗？以前的BBS是纯字符界面的，支持BBS的服务器将23端口打开，对外提供服务。其实Telnet的真正意思是远程登陆：用户可以以自己的身份远程连接到主机上。
smtp：定义了简单邮件传送协议。现在很多邮件服务器都用的是这个协议，用于发送邮件。服务器开放的是25端口。
http：这可是大家用得最多的协议了——超文本传送协议。上网浏览网页就需要用到它，那么提供网页资源的主机就得打开其80端口以提供服务。我们常说“提供www服务”、“Web服务器”就是这个意思。
pop3：和smtp对应，pop3用于接收邮件。通常情况下，pop3协议所用的是110端口。在263等免费邮箱中，几乎都有pop3收信功能。也就是说，只要你有相应的使用pop3协议的程序（例如Foxmail或Outlook），不需要从Web方式登陆进邮箱界面，即可以收信。 
使用UDP端口常见的有：
DNS：域名解析服务。因特网上的每一台计算机都有一个网络地址与之对应，这个地址就是我们常说的IP地址，它以纯数字的形式表示。然而这却不便记忆，于是出现了域名。访问主机的时候只需要知道域名，域名和IP地址之间的变换由DNS服务器来完成。DNS用的是53端口。
snmp：简单网络管理协议，使用161端口，是用来管理网络设备的。由于网络设备很多，无连接的服务就体现出其优势。
聊天软件Oicq：Oicq的程序既接受服务，又提供服务，这样两个聊天的人才是平等的。oicq用的是无连接的协议，其服务器使用8000端口，侦听是否有信息到来;客户端使用4000端口，向外发送信息。如果上述两个端口正在使用（有很多人同时和几个好友聊天），就顺序往上加。
以上是计算机常用的一些端口，此外还有很多端口，由于我们这次实验没用到，所以就不一一介绍了。
1、端口的扫描
端口扫描的方法现在有N种，最常用，也是最简捷的方法就是在任务栏里点开始、运行框里输入cmd，出现一个DOS框，输入netatat –an，那么你电脑目前所有的端口状况就一览无余。
2、端口的关闭
l          3389端口的关闭：
首先说明3389端口是windows的远程管理终端所开的端口，它并不是一个木马程序，请先确定该服务是否是你自己开放的。如果不是必须的，请关闭该服务。
方法：
在我的电脑上点右键选属性-->远程，将里面的远程协助和远程桌面两个选项框里的勾去掉。
l          4899端口的关闭：
首先说明4899端口是一个远程控制软件（remote administrator)服务端监听的端口，他不能算是一个木马程序，但是具有远程控制功能，通常杀毒软件是无法查出它来的，请先确定该服务是否是你自己开放并且是必需的。如果不是请关闭它。
方法：
请在开始-->运行中输入cmd，然后cd C:\winnt\system32(你的系统安装目录），输入r_server.exe /stop后按回车。然后再输入r_server /uninstall /silence，到C:\winnt\system32(系统目录）下删除r_server.exe admdll.dll radbrv.dll三个文件
l          139端口的关闭
139端口是NetBIOS　Session端口，用来文件和打印共享
方法：
在“网络和拨号连接”中“本地连接”中选取“Internet协议(TCP/IP)”属性，进入“高级TCP/IP设置”“WINS设置”里面有一项“禁用TCP/IP的NETBIOS”，打勾就关闭了139端口。
对于个人用户来说，可以在各项服务属性设置中设为“禁用”，以免下次重启服务也重新启动，端口也开放了。
l          113端口木马的清除
这是一个基于irc聊天室控制的木马程序。
1.首先使用netstat -an命令确定自己的系统上是否开放了113端口。
2.使用fport命令察看出是哪个程序在监听113端口。
例如我们用fport看到如下结果：
 Pid Process Port Proto Path\system32\vhos.exe
我们就可以确定在监听在113端口的木马程序是vhos.exe而该程序所在的路径为c:\winnt\system32下。
3.确定了木马程序名（就是监听113端口的程序）后，在任务管理器中查找到该进程，并使用管理器结束该进程。
4.在开始-运行中键入regedit运行注册表管理程序，在注册表里查找刚才找到那个程序，并将相关的键值全部删掉。
5.到木马程序所在的目录下删除该木马程序。（通常木马还会包括其他一些程序，如rscan.exe、psexec.exe、ipcpass.dic、ipcscan.txt等，根据木马程序不同，文件也有所不同，你可以通过察看程序的生成和修改的时间来确定与监听113端口的木马程序有关的其他程序）
6.重新启动机器。
l      限制端口的方法
对于个人用户来说，您可以限制所有的端口，因为您根本不必让您的机器对外提供任何服务；而对于对外提供网络服务的服务器，我们需把必须利用的端口(比如WWW端口80、FTP端口21、邮件服务端口25、110等)开放，其他的端口则全部关闭。
1、右键点击“网上邻居”，选择“属性”，然后双击“本地连接” ，弹出“本地连接状态”对话框。
　　2、点击[属性]按钮，弹出“本地连接属性”，选择“此连接使用下列项目”中的“Internet协议(TCP/IP)”，然后点击[属性]按钮。
　　3、在弹出的“Internet协议(TCP/IP)”对话框中点击[高级]按钮。在弹出的“高级TCP/IP设置”中，选择“选项”标签，选中“TCP/IP筛选”，然后点击[属性]按钮。
　　4、在弹出的“TCP/IP筛选”对话框里选择“启用TCP/IP筛选”的复选框，然后把左边“TCP端口”上的“只允许”选上
　　这样，您就可以来自己添加或删除您的TCP或UDP或IP的各种端口了。
添加或者删除完毕，重新启动机器以后，您的服务器就被保护起来了。
最后提醒，如果您只上网浏览的话，可以不添加任何端口。但是要利用一些网络联络工具，比如OICQ的话，就要把“4000”这个端口打开，同理，如果发现某个常用的网络工具不能起作用的时候，请搞清它在您主机所开的端口，然后在“TCP/IP筛选”中添加端口即可。
- 作者： Jephirus 2005年06月19日, 星期日 22:01　 回复（0） |　 引用（0） 加入博采
 用windows 2000的IP安全策略封闭端口的办法

黑客大多通过端口进行入侵，所以你的服务器只能开放你需要的端口，那么你需要哪些端口呢？以下是常用端口，你可根据需要取舍： 

80为Web网站服务；21为FTP服务；25 为E-mail SMTP服务；110为Email POP3服务。 

其他还有SQL Server的端口1433等，你可到网上查找相关资料。那些不用的端口一定要关闭！关闭这些端口，我们可以通过Windows 2000的安全策略进行。 
借助它的安全策略，完全可以阻止入侵者的攻击。你可以通过“管理工具→本地安全策略”进入，右击“IP安全策略”，选择“创建IP安全策略”，点[下一步]。输入安全策略的名称，点[下一步]，一直到完成，你就创建了一个安全策略： 

接着你要做的是右击“IP安全策略”，进入管理IP筛选器和筛选器操作，在管理IP筛选器列表中，你可以添加要封锁的端口，这里以关闭ICMP和139端口为例说明。 

关闭了ICMP，黑客软件如果没有强制扫描功能就不能扫描到你的机器，也Ping不到你的机器。关闭ICMP的具体操作如下：点[添加]，然后在名称中输入“关闭ICMP”，点右边的[添加]，再点[下一步]。在源地址中选“任何IP地址”，点[下一步]。在目标地址中选择“我的IP地址”，点[下一步]。在协议中选择“ICMP”，点[下一步]。回到关闭ICMP属性窗口，即关闭了ICMP。 

下面我们再设置关闭139，同样在管理IP筛选器列表中点“添加”，名称设置为“关闭139”，点右边的“添加”，点[下一步]。在源地址中选择“任何IP地址”，点[下一步]。在目标地址中选择“我的IP地址”，点[下一步]。在协议中选择“TCP”，点[下一步]。在设置IP协议端口中选择从任意端口到此端口，在此端口中输入139，点[下一步]。即完成关闭139端口，其他的端口也同样设置.


然后进入设置管理筛选器操作，点“添加”，点[下一步]，在名称中输入“拒绝”，点[下一步]。选择“阻止”，点[下一步]。 


然后关闭该属性页，右击新建的IP安全策略“安全”，打开属性页。在规则中选择“添加”，点[下一步]。选择“此规则不指定隧道”，点[下一步]。在选择网络类型中选择“所有网络连接”，点[下一步]。在IP筛选器列表中选择“关闭ICMP”，点[下一步]。在筛选器操作中选择“拒绝”，点[下一步]。这样你就将“关闭ICMP”的筛选器加入到名为“安全”的IP安全策略中。同样的方法，你可以将“关闭139”等其他筛选器加入进来。

最后要做的是指派该策略，只有指派后，它才起作用。方法是右击“安全”，在菜单中选择“所有任务”，选择“指派”。IP安全设置到此结束，你可根据自己的情况，设置相应的策略。 

同样可以关闭传奇端口:5500,7000,7100,5100,5000,7200,16300,16301,16302,6000,5600,4900,10000这些端口,来防止玩家复制装备的目的,配合shell还可以完全实现全自动断开端口后自动重新启动,自动运行
- 作者： Jephirus 2005年06月17日, 星期五 21:55　 回复（0） |　 引用（0） 加入博采
 重启RPC服务

    关闭RPC服务后，重新启动后发现系统日志报错，查看该事件的属性无法打开，关闭事件查看器，同时提示说关闭所有属性页，但看不到该页面...干完该干的事情后，开始恢复RPC服务吧，晕，竟然同样无法从属性里边恢复了（打不开属性页面），尝试其它一些恢复办法，如安全模式、CMD下，还是不行，注册表又没备份，真麻烦呀，只好打开注册表，之间用了N分钟，终于找到了“HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\RpcSs”，将里边的“Start”的值由0x00000004编辑为0x00000002后，重新启动电脑，OK，一切恢复正常了。
- 作者： Jephirus 2005年06月17日, 星期五 10:50　 回复（1） |　 引用（0） 加入博采
 防入侵与防病毒

　　由于现在家用电脑所使用的操作系统多数为Win XP 和Win2000 pro(建议还在使用98的朋友换换系统，连微软都放弃了的系统你还用它干嘛？)所以后面我将主要讲一下基于这两个操作系统的安全防范。
　　个人电脑常见的被入侵方式
　　谈到个人上网时的安全，还是先把大家可能会遇到的问题归个类吧。我们遇到的入侵方式大概包括了以下几种：
　　(1) 被他人盗取密码；
　　(2) 系统被木马攻击；
　　(3) 浏览网页时被恶意的java scrpit程序攻击；
　　(4) QQ被攻击或泄漏信息；
　　(5) 病毒感染；
　　(6) 系统存在漏洞使他人攻击自己。
　　(7) 黑客的恶意攻击。
　　下面我们就来看看通过什么样的手段来更有效的防范攻击。
　　1.察看本地共享资源
　　运行CMD输入net share，如果看到有异常的共享，那么应该关闭。但是有时你关闭共享下次开机的时候又出现了，那么你应该考虑一下，你的机器是否已经被黑客所控制了，或者中了病毒。
　　2.删除共享(每次输入一个）
　　net share admin$ /delete 
　　net share c$ /delete 
　　net share d$ /delete（如果有e，f，……可以继续删除）
　　3.删除ipc$空连接
　　在运行内输入regedit，在注册表中找到 HKEY-LOCAL_MACHINESYSTEMCurrentControSetControlLSA 项里数值名称RestrictAnonymous的数值数据由0改为1。
　　4.关闭自己的139端口，ipc和RPC漏洞存在于此。
　　关闭139端口的方法是在“网络和拨号连接”中“本地连接”中选取“Internet协议(TCP/IP)”属性，进入“高级TCP/IP设置”“WinS设置”里面有一项“禁用TCP/IP的NETBIOS”，打勾就关闭了139端口。
　　5．防止rpc漏洞
　　打开管理工具——服务——找到RPC(Remote Procedure Call (RPC) Locator)服务——将故障恢复中的第一次失败，第二次失败，后续失败，都设置为不操作。
　　XP SP2和2000 pro sp4，均不存在该漏洞。
　　6．445端口的关闭
　　修改注册表，添加一个键值
HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\NetBT\Parameters在右面的窗口建立一个SMBDeviceEnabled 为REG_DWORD类型键值为 0这样就ok了
　　7．3389的关闭
　　XP：我的电脑上点右键选属性-->远程，将里面的远程协助和远程桌面两个选项框里的勾去掉。
　　Win2000server 开始-->程序-->管理工具-->服务里找到Terminal Services服务项，选中属性选项将启动类型改成手动，并停止该服务。（该方法在XP同样适用）
　　使用2000 pro的朋友注意，网络上有很多文章说在Win2000pro 开始-->设置-->控制面板-->管理工具-->服务里找到Terminal Services服务项，选中属性选项将启动类型改成手动，并停止该服务，可以关闭3389，其实在2000pro 中根本不存在Terminal Services。
　　8．4899的防范
　　网络上有许多关于3389和4899的入侵方法。4899其实是一个远程控制软件所开启的服务端端口，由于这些控制软件功能强大，所以经常被黑客用来控制自己的肉鸡，而且这类软件一般不会被杀毒软件查杀，比后门还要安全。
　　4899不象3389那样，是系统自带的服务。需要自己安装，而且需要将服务端上传到入侵的电脑并运行服务，才能达到控制的目的。

　　所以只要你的电脑做了基本的安全配置，黑客是很难通过4899来控制你的。
　　9、禁用服务
　　打开控制面板，进入管理工具——服务，关闭以下服务
　　1.Alerter[通知选定的用户和计算机管理警报]
　　2.ClipBook[启用“剪贴簿查看器”储存信息并与远程计算机共享]
　　3.Distributed File System[将分散的文件共享合并成一个逻辑名称，共享出去，关闭后远程计算机无法访问共享
　　4.Distributed Link Tracking Server[适用局域网分布式链接? 倏突Ф朔馷
　　5.Human Interface Device Access[启用对人体学接口设备(HID)的通用输入访问]
　　6.IMAPI CD-Burning COM Service[管理 CD 录制]
　　7.Indexing Service[提供本地或远程计算机上文件的索引内容和属性，泄露信息]
　　8.Kerberos Key Distribution Center[授权协议登录网络]
　　9.License Logging[监视IIS和SQL如果你没安装IIS和SQL的话就停止]
　　10.Messenger[警报]
　　11.NetMeeting Remote Desktop Sharing[netmeeting公司留下的客户信息收集]
　　12.Network DDE[为在同一台计算机或不同计算机上运行的程序提供动态数据交换]
　　13.Network DDE DSDM[管理动态数据交换 (DDE) 网络共享]
　　14.Print Spooler[打印机服务，没有打印机就禁止吧]
　　15.Remote Desktop Help& nbsp;Session Manager[管理并控制远程协助]
　　16.Remote Registry[使远程计算机用户修改本地注册表]
　　17.Routing and Remote Access[在局域网和广域往提供路由服务.黑客理由路由服务刺探注册信息]
　　18.Server[支持此计算机通过网络的文件、打印、和命名管道共享]
　　19.Special Administration Console Helper[允许管理员使用紧急管理服务远程访问命令行提示符]
　　20.TCP/IPNetBIOS Helper[提供 TCP/IP 服务上的 NetBIOS 和网络上客户端的 NetBIOS 名称解析的支持而使用户能够共享文件、打印和登录到网络]
　　21.Telnet[允许远程用户登录到此计算机并运行程序]
　　22.Terminal Services[允许用户以交互方式连接到远程计算机]
　　23.Window s Image Acquisition (WIA)[照相服务，应用与数码摄象机]
　　如果发现机器开启了一些很奇怪的服务，如r_server这样的服务，必须马上停止该服务，因为这完全有可能是黑客使用控制程序的服务端。